# 待修复问题

## 已完成 ✅

- [x] 修复RESTART后敌人生成节奏不一致的问题（一上来有很多蝙蝠）
- [x] 修复主角显示为绿色方块的问题（图片未加载）
- [x] 调整主角站位到教堂地毯上（当前位置太低）
- [x] 调整游戏背景UI尺寸，适配常规浏览器窗口（无需滚动）
- [x] 移除竖屏自适应逻辑，只保留横屏模式（简化MVP）
- [x] 实现角色跟随鼠标/手指移动，剑锋指向操作位置
- [x] 裁剪教堂背景图，只保留上半部分（教堂内部场景），去掉下半部分
- [x] 研究GitHub上的像素风游戏动画和特效方案（推荐Proton，最终使用自定义粒子系统）
- [x] 为5首新音乐生成谱面（所有6首歌的谱面已生成）
- [x] 集成新音乐到游戏（6首歌全部集成，关卡选择系统完整实现）
- [x] 增强主角和NPC动画（角色跟随、旋转、飞行动画、简单粒子系统）
- [x] 添加音效反馈系统（游戏开始/结束、击中、连击、Miss、暂停）
- [x] 实现得分弹出动画系统（"+10"、"+50"、"COMBO x5!"等浮动文字）
- [x] **增强连击特效系统**
  - [x] 为连击里程碑（5x、10x、20x）添加金色粒子爆炸
  - [x] 实现“COMBO x5!”文字缩放动画（0.5→1.5→1.0）
  - [x] 增强视觉效果（发光、屏幕震动）
- [x] **优化角色攻击动作** ⭐ 新完成
  - [x] 修复角色“东倒西歪”问题（限制旋转角度-30°到+30°）
  - [x] 添加角色朝向控制（根据鼠标位置自动翻转左/右）
  - [x] 实现政击冲刺效果（向敌人方向冲刺30像素）
  - [x] 优化移动平滑度（插值系数从0.15降到0.08）
  - [x] 增强攻击特效（闪光效果、更强的缩放）

---

## 进行中 🔄

- [x] **大型功能扩展** ⭐ 已完成
  - [x] 设计难度系统（Normal/Hard/Insane）和关卡数据结构
  - [x] 生成三个场景背景图（教堂/墓地/城堡）
  - [x] 实现难度解锁逻辑（通关当前难度所有关卡才能解锁下一难度）
  - [x] 开发游戏大厅UI（关卡选择、难度切换、进度展示）
  - [x] 实现Avatar系统（玩家头像、等级、成就、统计数据）
  - [x] 测试并交付

- [x] **添加新游戏机制** ⭐ 已完成
  - [x] 修复主角图片深灰色背景，重新生成透明背景版本
  - [x] 实现Miss惩罚：蝙蝠飞出屏幕左侧时扫1颗心（已存在）
  - [x] 实现心形道具掉落：连击5x时20%概率掉落，拾取回复1颗心
  - [x] 测试新机制效果

- [x] **更换主角角色设定** ⭐ 已完成
  - [x] 生成新主角美术（吸血鬼×狼人混血，手持武士刀，背后恰魔翅膀）
  - [x] 替换游戏中的主角图片资源
  - [x] 更新游戏标题和描述文案（Hybrid Hunter's Requiem）
  - [x] 测试新主角显示效果

---

## 后续优化建议

### 高优先级 (P0) - **强烈推荐立即实现**

- [ ] **降低游戏难度** ⚠️ **最重要**
  - 将grace period从15秒增加到30-45秒
  - 增加敌人碰撞判定范围至1.5-2倍
  - 降低敌人移动速度至当前的70%
  - **原因**: 当前难度太高，玩家很难体验到击中、连击、得分弹出、攻击冲刺等核心玩法，严重影响游戏体验和可玩性

### 高优先级 (P1) - 短期优化

- [ ] **优化新手体验**
  - 首次进入的手势动画教程
  - 前3次击中的鼓励提示
  - 简化的引导流程

### 中优先级 (P2) - 中期优化

- [ ] 使用专业音效文件替代程序生成音效
- [ ] 添加环境音效（蝙蝠叫声、风声）
- [ ] 实现装备系统
- [ ] 添加排行榜和成就系统
- [ ] 优化难度曲线（根据玩家反馈调整）

### 低优先级 (P3) - 长期优化

- [ ] 动态难度调整
- [ ] 体力和变现系统
- [ ] 在线功能（排行榜、好友、分享）
- [ ] 添加更多歌曲（目标10-15首）
- [ ] 音频可视化（频谱条）

---

**更新时间**: 2026年1月4日 13:22
**当前状态**: MVP v3.0 - 难度系统、三场景、Avatar系统全部完成 🎉
**下一步**: 建议降低游戏难度或添加更多关卡内容
