# 🧛 Vampire Rhythm - 混血猎手的安魂曲

一款像素风吸血鬼主题的音乐节奏游戏，玩家扮演吸血鬼×狼人混血猎手，通过切削飞舞的蝙蝠和吸血鬼来击败敌人。

![Game Screenshot](https://github.com/paulbreath/vampire-rhythm-game/raw/main/client/public/images/characters/castlevania-hero.png)

## 🎮 游戏特色

- **横向战斗模式**：独特的横向滚动战斗，主角在左侧，敌人从右侧飞来
- **三大关卡场景**：教堂（Church）、墓地（Graveyard）、城堡（Castle），每个场景都有独特的背景和音乐
- **三种难度等级**：Normal、Hard、Insane，逐步解锁更高难度
- **BOSS战系统**：10滴血的BOSS，身边有1个炸弹蝙蝠护卫环绕飞行
- **连击系统**：连击达到5x、10x、15x、20x时触发特殊视觉效果和粒子爆炸
- **通关系统**：音乐结束且玩家存活即为通关成功

## 🎵 音乐系统

每个关卡都有独立的BGM和AI生成的谱面：

| 关卡 | 音乐 | 时长 | BPM |
|------|------|------|-----|
| ⛪ Church | Nocturnal Hunger | 2:37 | 140 |
| 🪦 Graveyard | Electric Shadows Whispering Doom | 4:00 | 125 |
| 🏰 Castle | Eternal Bloodlust | 4:27 | 140 |

## 🎨 美术风格

- **像素风哥特美术**：暗黑哥特风格的像素艺术
- **恶魔城风格主角**：银发、黑色长袍、细剑、恶魔翅膀
- **程序化动画**：挥剑旋转、身体缩放、向前冲刺、白色闪光特效

## 🛠️ 技术栈

- **前端框架**：React 19 + TypeScript + Vite
- **渲染引擎**：HTML5 Canvas (纯Canvas API，无游戏框架)
- **音频系统**：Web Audio API
- **状态管理**：React Hooks + LocalStorage持久化
- **样式**：CSS + 像素风哥特主题

## 🚀 快速开始

### 安装依赖

```bash
pnpm install
```

### 开发模式

```bash
pnpm run dev
```

访问 `http://localhost:3000` 开始游戏。

### 构建生产版本

```bash
pnpm run build
```

## 🎯 游戏玩法

1. **移动**：鼠标/手指移动控制主角位置，剑锋指向操作位置
2. **攻击**：主角自动攻击范围内的敌人
3. **连击**：连续击中敌人可以累积连击数，获得更高分数
4. **避开炸弹**：击中炸弹会扣血，需要小心躲避
5. **心形道具**：连击5x时有20%概率掉落心形道具，拾取可回复1颗心
6. **通关条件**：音乐结束时玩家仍存活（生命值>0）

## 📊 游戏系统

### 难度系统

- **Normal**：1.0x速度 • 1.0x密度
- **Hard**：1.3x速度 • 1.4x密度（需完成所有Normal关卡解锁）
- **Insane**：1.6x速度 • 1.8x密度（需完成所有Hard关卡解锁）

### 进度系统

- 关卡解锁：完成前一关卡才能解锁下一关卡
- 难度解锁：完成当前难度所有关卡才能解锁下一难度
- 最高分记录：每个关卡每个难度都有独立的最高分记录
- LocalStorage持久化：所有进度自动保存到本地

### Avatar系统

- 玩家头像（10种可选）
- 等级系统（每100 EXP升1级）
- 统计数据（总分、击杀数、成就数）
- 成就系统（7种成就定义）

## 🎨 特效系统

- **粒子系统**：击中敌人时的粒子爆炸效果
- **屏幕震动**：连击里程碑和BOSS击败时的震动效果
- **得分弹出**："+10"、"+50"、"COMBO x5!"等浮动文字
- **连击特效**：金色粒子爆炸、文字缩放动画、发光效果
- **攻击动画**：挥剑旋转、身体缩放、向前冲刺、白色闪光

## 🎵 音效系统

使用Web Audio API程序生成的音效：

- 游戏开始音效
- 游戏结束音效
- 击中敌人音效
- 连击音效
- Miss音效
- 暂停音效

## 📝 开发历史

- **v3.2** (2026-01-05)：三关卡独立BGM系统完成
- **v3.1.2** (2026-01-04)：修复图片加载错误
- **v3.1.1** (2026-01-04)：BOSS难度调整（护卫从2只减少到1只）
- **v3.1** (2026-01-04)：通关系统、恶魔城主角、BOSS系统
- **v3.0** (2026-01-04)：难度系统、三场景、进度管理、Avatar系统
- **v2.0** (2026-01-03)：音频系统集成、谱面加载器、音乐同步
- **v1.0** (2026-01-03)：核心切削玩法、得分系统、游戏循环

## 🔮 未来计划

### 高优先级

- [ ] 降低游戏难度（增加grace period、扩大碰撞判定、降低敌人速度）
- [ ] 实现经验值和成就解锁系统
- [ ] 优化新手引导（手势教程、鼓励提示）

### 中优先级

- [ ] 使用专业音效文件替代程序生成音效
- [ ] 添加环境音效（蝙蝠叫声、风声）
- [ ] 实现装备系统
- [ ] 添加排行榜

### 低优先级

- [ ] 动态难度调整
- [ ] 在线功能（排行榜、好友、分享）
- [ ] 添加更多歌曲（目标10-15首）
- [ ] 音频可视化（频谱条）

## 📄 许可证

MIT License

## 👨‍💻 作者

paulbreath

## 🙏 致谢

- 音乐：AI生成
- 美术：AI生成的像素风哥特美术
- 灵感来源：恶魔城系列、水果忍者、音乐游戏

---

**享受狩猎吧！🦇**
